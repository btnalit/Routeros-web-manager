# RouterOS Web ç®¡ç†å™¨

RouterOSä¸­æ–‡Webç®¡ç†ç•Œé¢æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„Webåº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨ç®€åŒ–RouterOSçš„ç½‘ç»œé…ç½®ç®¡ç†ã€‚è¯¥ç³»ç»Ÿæä¾›ç›´è§‚çš„ä¸­æ–‡ç•Œé¢ï¼Œæ”¯æŒVPNæ¥å£é…ç½®ã€mihomoä»£ç†å®¹å™¨ç®¡ç†å’Œæµé‡å¼•æµè§„åˆ™é…ç½®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **VPNæ¥å£ç®¡ç†** - æ”¯æŒPPPoEã€PPTPã€L2TPæ¥å£é…ç½®
- ğŸ³ **Mihomoå®¹å™¨ç®¡ç†** - ä¸€é”®éƒ¨ç½²å’Œç®¡ç†mihomoä»£ç†å®¹å™¨
- ğŸ”— **ä»£ç†èŠ‚ç‚¹é…ç½®** - æ”¯æŒå¤šç§åè®®çš„ä»£ç†èŠ‚ç‚¹ç®¡ç†
- ğŸ“Š **æµé‡å¼•æµè§„åˆ™** - çµæ´»çš„æµé‡è·¯ç”±è§„åˆ™é…ç½®
- ğŸ‡¨ğŸ‡³ **å®Œæ•´ä¸­æ–‡ç•Œé¢** - å…¨ä¸­æ–‡ç”¨æˆ·ç•Œé¢å’Œé”™è¯¯æç¤º
- ğŸ“ˆ **å®æ—¶çŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œç³»ç»Ÿä¿¡æ¯

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18 + TypeScript
- Ant Design UIç»„ä»¶åº“
- React Router v6
- ZustandçŠ¶æ€ç®¡ç†
- React Queryæ•°æ®ç®¡ç†
- Viteæ„å»ºå·¥å…·

### åç«¯
- Node.js + Express
- TypeScript
- SQLiteæ•°æ®åº“
- RouterOS APIé›†æˆ
- Docker APIé›†æˆ
- WebSocketå®æ—¶é€šä¿¡

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 8.0.0
- Docker (ç”¨äºmihomoå®¹å™¨ç®¡ç†)
- RouterOSè®¾å¤‡ (ç”¨äºVPNæ¥å£ç®¡ç†)

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd backend && npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend && npm install
```

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (å‰åç«¯åŒæ—¶å¯åŠ¨)
npm run dev

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
npm run dev:backend  # åç«¯æœåŠ¡å™¨ (ç«¯å£ 3001)
npm run dev:frontend # å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£ 3000)
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºå‰åç«¯
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

## é¡¹ç›®ç»“æ„

```
routeros-web-manager/
â”œâ”€â”€ backend/                 # åç«¯APIæœåŠ¡å™¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ logs/               # æ—¥å¿—æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/               # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ services/       # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ .kiro/                  # Kiroè§„èŒƒæ–‡æ¡£
â”‚   â””â”€â”€ specs/
â”‚       â””â”€â”€ routeros-web-manager/
â”œâ”€â”€ package.json            # æ ¹package.json
â””â”€â”€ README.md
```

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ESLintå’ŒPrettierè¿›è¡Œä»£ç è§„èŒƒåŒ–ï¼š

```bash
# æ£€æŸ¥ä»£ç è§„èŒƒ
npm run lint

# è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼
npm run lint:fix
```

### æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œåç«¯æµ‹è¯•
npm run test:backend

# è¿è¡Œå‰ç«¯æµ‹è¯•
npm run test:frontend
```

## APIæ–‡æ¡£

APIæœåŠ¡å™¨è¿è¡Œåœ¨ `http://localhost:3001`ï¼Œä¸»è¦ç«¯ç‚¹åŒ…æ‹¬ï¼š

- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /api` - APIä¿¡æ¯
- `/api/vpn/*` - VPNæ¥å£ç®¡ç†
- `/api/mihomo/*` - Mihomoå®¹å™¨ç®¡ç†
- `/api/proxy/*` - ä»£ç†èŠ‚ç‚¹ç®¡ç†
- `/api/traffic/*` - æµé‡è§„åˆ™ç®¡ç†

è¯¦ç»†çš„APIæ–‡æ¡£å°†åœ¨åç»­å¼€å‘ä¸­å®Œå–„ã€‚

## è´¡çŒ®æŒ‡å—

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·åˆ›å»ºIssueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚